<!DOCTYPE html>
{% extends "base.html" %}

{% block title %}
	{{ title }}
{% endblock %}

{% block content %}
	<script>
	var app = angular.module('sortApp', []);
	app.config(['$interpolateProvider', function($interpolateProvider) {
	  $interpolateProvider.startSymbol('{a');
	  $interpolateProvider.endSymbol('a}');
	}]);
	app.controller('mainController', function($scope) {
	  $scope.sortType     = ''; // set the default sort type
	  $scope.sortReverse  = false;  // set the default sort order
	  
	  $scope.model = {{ models|safe }};
	});
	</script>
	<div class="container" ng-app="sortApp" ng-controller="mainController">
		<table class = "table table-striped table-bordered">
			<h2>{{ title }}</h2>

			<thead>
				<tr>
					{% for short_attr in short_name %}
						<th>
							<a href="#" ng-click="sortType = '{{ short_attr }}'; sortReverse = !sortReverse">
								{{ attributes[short_attr] }}
								<span ng-show="sortType == '{{ short_attr }}' && !sortReverse" class="fa fa-caret-down"></span>
								<span ng-show="sortType == '{{ short_attr }}' && sortReverse" class="fa fa-caret-up"></span>
							</a>
						</th>
					{% endfor %}
				</tr>
			</thead>

			<tbody>
				<tr ng-repeat="member in model | orderBy:sortType:sortReverse">
					{% for short_attr in short_name %}
						<td>{a member.{{short_attr}} a}</td>
					{% endfor %}
				</tr>
			</tbody>
		</table>
	</div>
		
	</table>
{% endblock %}